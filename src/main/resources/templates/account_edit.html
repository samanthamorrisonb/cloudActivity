<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
	  layout:decorate="layouts/center_form">
	<body>
		<div layout:fragment="content">
			<div>
				<h1 th:text="${title}">Title</h1>
				<span th:if="${error}"><p class="alert alert-danger" th:text="${error}">errors</p></span>
			</div>
			<div>
				<form action="#" th:action="@{/user/account/update/}" th:object="${userAcct}" method="post">
					<div class="col-auto">
						<label class="form-label">First Name:</label>
				        <input class="form-control" type="text" th:field="*{firstName}" th:value="${userAcct.firstName}" id="name" name="name" required>
				        <h5 class="alert alert-danger"
							th:if="${#fields.hasErrors('firstName')}"
							th:errors="*{firstName}">First Name Error</h5>
					</div>
					<div class="col-auto">
				        <label class="form-label">Last Name:</label>
				        <input class="form-control" type="text" th:field="*{lastName}" th:value="${userAcct.lastName}">
				        <h5 class="alert alert-danger"
									th:if="${#fields.hasErrors('lastName')}" 
									th:errors="*{lastName}">Last Name Error</h5>
					</div>
					<div class="col-auto">
				        <label class="form-label">Email:</label>
				        <input class="form-control" type="email" th:field="*{email}" th:value="${userAcct.email}"></td>
				        <h5 class="alert alert-danger"
									th:if="${#fields.hasErrors('email')}" 
									th:errors="*{email}">Email Error</h5>
					</div>
					<div class="col-auto">
				        <label class="form-label">Phone Number:</label>
				        <input class="form-control" type="text" th:field="*{phone}" th:value="${userAcct.phone}">
				        <h5 class="alert alert-danger"
							th:if="${#fields.hasErrors('phone')}" 
							th:errors="*{phone}">Phone Error</h5>
	                </div>
					
					
				   	<div class="col-auto">
						<input class="btn btn-success my-2" type="submit" value="Update">
						<div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">List of Errors</div>
						<div th:each="err : ${#fields.errors('*')}" class="alert alert-danger">
							<span th:text="${err}"></span>
						</div>
					</div>
				</form>
				<p class="text-center"><a th:href="@{/user/dashboard/}">Back to Dashboard</a></p>
			</div>
		</div>
	</body>
</html>
